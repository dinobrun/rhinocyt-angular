<app-content sidenav="true">
<div id="patient-card" *ngIf="patient" >
  <form (ngSubmit)="onSubmit()" #newAnamnesisForm="ngForm">
  <mat-horizontal-stepper>
    <!-- Anamnesi familiare -->
    <mat-step label="Anamnesi familiare">

      <h4>Uno dei genitori presenta allegia?</h4>
      <mat-form-field>
        <mat-label>Allergia genitore</mat-label>
        <mat-select [(ngModel)]="anamnesis.allergy_gen" name="allergy-gen" matNativeControl>
          <mat-option>nessuno</mat-option>
          <mat-option *ngFor="let allergy of ALLERG_TYPE" [value]="allergy.key">
            {{allergy.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <h4>Uno dei fratelli presenta allegia?</h4>
      <mat-form-field>
        <mat-label>Allergia fratelli</mat-label>
        <mat-select [(ngModel)]="anamnesis.allergy_fra" name="allergy-fra" matNativeControl>
          <mat-option>nessuno</mat-option>
          <mat-option *ngFor="let allergy of ALLERG_TYPE" [value]="allergy.key">
            {{allergy.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <div>
      <mat-checkbox [(ngModel)]="anamnesis.polip_nas_gen" labelPosition="after" name="polip-nas-gen" color="primary">
      <h4>Uno dei genitori presenta poliposi nasale?</h4>
      </mat-checkbox>
      </div>

      <div>
      <mat-checkbox [(ngModel)]="anamnesis.polip_nas_fra" labelPosition="after" name="polip-nas-fra" color="primary">
      <h4>Uno dei fratelli presenta poliposi nasale?</h4>
      </mat-checkbox>
      </div>

      <div>
      <mat-checkbox [(ngModel)]="anamnesis.asma_bronch_gen" labelPosition="after" name="asma-bronch-gen" color="primary">
      <h4>Uno dei genitori presenta asma bronchiale?</h4>
      </mat-checkbox>
      </div>

      <div>
      <mat-checkbox [(ngModel)]="anamnesis.asma_bronch_fra" labelPosition="after" name="asma-bronch-fra" color="primary">
      <h4>Uno dei fratelli presenta asma bronchiale?</h4>
      </mat-checkbox>
      </div>
    </mat-step>
    <!-- Sintomatologia -->
    <mat-step label="Sintomatologia">

      <h4>Ostruzione nasale:</h4>
      <mat-form-field>
        <mat-label>ostruzione nasale</mat-label>
        <mat-select [(ngModel)]="anamnesis.ostr_nas" name="ostr-nas" matNativeControl>
          <mat-option>nessuno</mat-option>
          <mat-option *ngFor="let select of LEFT_RIGHT_TYPE" [value]="select.key">
            {{select.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <h4>Rinorrea:</h4>
      <mat-form-field>
        <mat-label>rinorrea</mat-label>
        <mat-select [(ngModel)]="anamnesis.rinorrea" name="rinorrea" matNativeControl>
          <mat-option>nessuno</mat-option>
          <mat-option *ngFor="let select of RINORREA_ESSUDATO_TYPE" [value]="select.key">
            {{select.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <div *ngIf="anamnesis.rinorrea">
        <h5>Seleziona lato rinorrea:</h5>
        <mat-radio-group [(ngModel)]="anamnesis.rinorrea_espans" name="rinorrea-espans" aria-label="Seleziona lato">
          <mat-radio-button value="SX" color="primary">Sinistra </mat-radio-button>
          <mat-radio-button value="DX" color="primary">Destra </mat-radio-button>
        </mat-radio-group>
      </div>

      <div>
      <mat-checkbox [(ngModel)]="anamnesis.prur_nas" labelPosition="after" name="prur-nas" color="primary">
      <h4>Prurito nasale</h4>
      </mat-checkbox>
      </div>

      <h4>Starnutazione:</h4>
      <mat-form-field>
        <mat-label>starnutazione</mat-label>
        <mat-select [(ngModel)]="anamnesis.starnutazione" name="starnutazione" matNativeControl>
          <mat-option>nessuno</mat-option>
          <mat-option *ngFor="let select of STARNUTAZIONE_TYPE" [value]="select.key">
            {{select.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <h4>Problemi olfattivi:</h4>
      <mat-form-field>
        <mat-label>problemi olfattivi</mat-label>
        <mat-select [(ngModel)]="anamnesis.prob_olf" name="prob-olf" matNativeControl>
          <mat-option>nessuno</mat-option>
          <mat-option *ngFor="let select of PROB_OLF_TYPE" [value]="select.key">
            {{select.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <h4>Ovattamento auricolare:</h4>
      <mat-form-field>
        <mat-label>ovattamento</mat-label>
        <mat-select [(ngModel)]="anamnesis.ovatt_aur" name="ovatt-aur" matNativeControl>
          <mat-option>nessuno</mat-option>
          <mat-option *ngFor="let select of LEFT_RIGHT_TYPE" [value]="select.key">
            {{select.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <h4>Ipoacusia:</h4>
      <mat-form-field>
        <mat-label>ipoacusia</mat-label>
        <mat-select [(ngModel)]="anamnesis.ipoacusia" name="ipoacusia" matNativeControl>
          <mat-option>nessuno</mat-option>
          <mat-option *ngFor="let select of LEFT_RIGHT_TYPE" [value]="select.key">
            {{select.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <h4>Acufeni:</h4>
      <mat-form-field>
        <mat-label>acufeni</mat-label>
        <mat-select [(ngModel)]="anamnesis.acufeni" name="acufeni" matNativeControl>
          <mat-option>nessuno</mat-option>
          <mat-option *ngFor="let select of LEFT_RIGHT_TYPE" [value]="select.key">
            {{select.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <h4>Sindrome vertiginosa:</h4>
      <mat-form-field>
        <mat-label>sindrome vertiginosa</mat-label>
        <mat-select [(ngModel)]="anamnesis.sindr_ver" name="sindr-ver" matNativeControl>
          <mat-option>nessuno</mat-option>
          <mat-option *ngFor="let select of SINDR_VER_TYPE" [value]="select.key">
            {{select.value}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <div>
      <mat-checkbox [(ngModel)]="anamnesis.febbre" labelPosition="after" name="febbre" color="primary">
      <h4>Febbre</h4>
      </mat-checkbox>
      </div>

      <div>
      <mat-checkbox [(ngModel)]="anamnesis.uso_farmaci" labelPosition="after" name="uso-farmaci" color="primary">
      <h4>Uso di farmaci</h4>
      </mat-checkbox>
      </div>

      <div>
      <h4>Problemi oculari:</h4>
      <mat-checkbox [(ngModel)]="anamnesis.lacrimazione" labelPosition="after" name="lacrimazione" color="primary">
      Lacrimazione
      </mat-checkbox><br>
      <mat-checkbox [(ngModel)]="anamnesis.fotofobia" labelPosition="after" name="fotofobia" color="primary">
      Fotofobia
      </mat-checkbox><br>
      <mat-checkbox [(ngModel)]="anamnesis.prurito_cong" labelPosition="after" name="prur-cong" color="primary">
      Prurito congiuntiva
      </mat-checkbox><br>
      <mat-checkbox [(ngModel)]="anamnesis.bruciore_cong" labelPosition="after" name="bruciore-cong" color="primary">
      Bruciore congiuntiva
      </mat-checkbox>
      </div>
    </mat-step>

    <!-- Esame del medico -->
    <mat-step label="Esame medico">
      <div style="width: 35%; float: left;" >
        <mat-expansion-panel>
          <mat-expansion-panel-header>
           <mat-panel-title>
            Esame esterno del naso
           </mat-panel-title>
        </mat-expansion-panel-header>

        <mat-form-field>
          <mat-label>Piramide nasale</mat-label>
          <mat-select [(ngModel)]="anamnesis.pir_nas" name="pir-nas" matNativeControl>
            <mat-option>nessuno</mat-option>
            <mat-option *ngFor="let select of PIR_NAS_TYPE" [value]="select.key">
              {{select.value}}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Valvola nasale</mat-label>
          <mat-select [(ngModel)]="anamnesis.valv_nas" name="valv-nas" matNativeControl>
            <mat-option>nessuno</mat-option>
            <mat-option *ngFor="let select of VALV_NAS_TYPE" [value]="select.key">
              {{select.value}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        </mat-expansion-panel>

        <mat-expansion-panel>
          <mat-expansion-panel-header>
           <mat-panel-title>
            Endoscopia nasale
           </mat-panel-title>
          </mat-expansion-panel-header>

          <mat-form-field>
            <mat-label>Setto nasale</mat-label>
            <mat-select [(ngModel)]="anamnesis.setto_nas" name="setto-nas" matNativeControl>
              <mat-option>nessuno</mat-option>
              <mat-option *ngFor="let select of SETTO_NAS_TYPE" [value]="select.key">
                {{select.value}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Turbinati</mat-label>
            <mat-select [(ngModel)]="anamnesis.turb" name="turb" matNativeControl>
              <mat-option>nessuno</mat-option>
              <mat-option *ngFor="let select of TURB_TYPE" [value]="select.key">
                {{select.value}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Poliposi nasale sinistra</mat-label>
            <mat-select [(ngModel)]="anamnesis.polip_nas_sx" name="polip-nas-sx" matNativeControl>
              <mat-option>assente</mat-option>
              <mat-option *ngFor="let select of POLIP_NUM_TYPE" [value]="select.key">
                {{select.value}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Poliposi nasale destra</mat-label>
            <mat-select [(ngModel)]="anamnesis.polip_nas_dx" name="polip-nas-dx" matNativeControl>
              <mat-option>assente</mat-option>
              <mat-option *ngFor="let select of POLIP_NUM_TYPE" [value]="select.key">
                {{select.value}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Essudato</mat-label>
            <mat-select [(ngModel)]="anamnesis.essudato" name="essudato" matNativeControl>
              <mat-option>nessuno</mat-option>
              <mat-option *ngFor="let select of RINORREA_ESSUDATO_TYPE" [value]="select.key">
                {{select.value}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </mat-expansion-panel>

        <mat-expansion-panel>
          <mat-expansion-panel-header>
           <mat-panel-title>
            Rinofaringe
           </mat-panel-title>
          </mat-expansion-panel-header>

          <mat-form-field>
            <mat-label>Ipertrofia adenoidea</mat-label>
            <mat-select [(ngModel)]="anamnesis.ipertr_adenoidea" name="ipertr-adenoidea" matNativeControl>
              <mat-option>assente</mat-option>
              <mat-option *ngFor="let select of POLIP_NUM_TYPE" [value]="select.key">
                {{select.value}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </mat-expansion-panel>

        <mat-expansion-panel>
          <mat-expansion-panel-header>
           <mat-panel-title>
            Esame delle orecchie
           </mat-panel-title>
          </mat-expansion-panel-header>
        </mat-expansion-panel>

      </div>
    </mat-step>

    <!-- Prick test -->
    <mat-step label="Prick-Test">
      <div>
        <h4>Esito prick test:</h4>
        <mat-radio-group [(ngModel)]="prickTest" name="prick-test" aria-label="prick-test">
          <mat-radio-button [value]="true" color="primary" style="margin-right: 10px">Positivo </mat-radio-button>
          <mat-radio-button [value]="false" color="primary">Negativo </mat-radio-button>
        </mat-radio-group>
      </div>
      <br>

    <div *ngIf="allergy_list.length > 0" style="width: 35%; float: left;" >
      <mat-checkbox [disabled]="!prickTest" [(ngModel)]="allergy_list[0].value" labelPosition="after" name="allergy0" color="primary">
          {{allergy_list[0].type}}
      </mat-checkbox><br>

      <mat-checkbox [disabled]="!prickTest" [(ngModel)]="allergy_list[1].value" labelPosition="after" name="allergy" color="primary">
          {{allergy_list[1].type}}
      </mat-checkbox><br>

      <mat-checkbox [disabled]="!prickTest" [(ngModel)]="allergy_list[2].value" labelPosition="after" name="allergy" color="primary">
          {{allergy_list[2].type}}
      </mat-checkbox><br>

      <mat-checkbox [disabled]="!prickTest" [(ngModel)]="allergy_list[3].value" labelPosition="after" name="allergy" color="primary">
          {{allergy_list[3].type}}
      </mat-checkbox><br>

      <mat-checkbox [disabled]="!prickTest" [(ngModel)]="allergy_list[4].value" labelPosition="after" name="allergy" color="primary">
          {{allergy_list[4].type}}
      </mat-checkbox><br>

      <mat-checkbox [disabled]="!prickTest" [(ngModel)]="allergy_list[5].value" labelPosition="after" name="allergy" color="primary">
          {{allergy_list[5].type}}
      </mat-checkbox><br>

      <mat-checkbox [disabled]="!prickTest" [(ngModel)]="allergy_list[6].value" labelPosition="after" name="allergy" color="primary">
          {{allergy_list[6].type}}
      </mat-checkbox><br>

      <mat-checkbox [disabled]="!prickTest" [(ngModel)]="allergy_list[7].value" labelPosition="after" name="allergy" color="primary">
          {{allergy_list[7].type}}
      </mat-checkbox><br>

      <mat-checkbox [disabled]="!prickTest" [(ngModel)]="allergy_list[8].value" labelPosition="after" name="allergy" color="primary">
          {{allergy_list[8].type}}
      </mat-checkbox><br>
    </div>

    <!-- Right column -->
    <div *ngIf="allergy_list.length > 0" style="width: 35%; float: right;" >
      <mat-checkbox [disabled]="!prickTest" [(ngModel)]="allergy_list[9].value" labelPosition="after" name="allergy" color="primary">
          {{allergy_list[9].type}}
      </mat-checkbox><br>

      <mat-checkbox [disabled]="!prickTest" [(ngModel)]="allergy_list[10].value" labelPosition="after" name="allergy" color="primary">
          {{allergy_list[10].type}}
      </mat-checkbox><br>

      <mat-checkbox [disabled]="!prickTest" [(ngModel)]="allergy_list[11].value" labelPosition="after" name="allergy" color="primary">
          {{allergy_list[11].type}}
      </mat-checkbox><br>

      <mat-checkbox [disabled]="!prickTest" [(ngModel)]="allergy_list[12].value" labelPosition="after" name="allergy" color="primary">
          {{allergy_list[12].type}}
      </mat-checkbox><br>

      <mat-checkbox [disabled]="!prickTest" [(ngModel)]="allergy_list[13].value" labelPosition="after" name="allergy" color="primary">
          {{allergy_list[13].type}}
      </mat-checkbox><br>

      <mat-checkbox [disabled]="!prickTest" [(ngModel)]="allergy_list[14].value" labelPosition="after" name="allergy" color="primary">
          {{allergy_list[14].type}}
      </mat-checkbox><br>

      <mat-checkbox [disabled]="!prickTest" [(ngModel)]="allergy_list[15].value" labelPosition="after" name="allergy" color="primary">
          {{allergy_list[15].type}}
      </mat-checkbox><br>

      <mat-checkbox [disabled]="!prickTest" [(ngModel)]="allergy_list[16].value" labelPosition="after" name="allergy" color="primary">
          {{allergy_list[16].type}}
      </mat-checkbox><br>

      <mat-checkbox [disabled]="!prickTest" [(ngModel)]="allergy_list[17].value" labelPosition="after" name="allergy" color="primary">
          {{allergy_list[17].type}}
      </mat-checkbox><br>
    </div>
    </mat-step>
  </mat-horizontal-stepper>
  <button mat-raised-button id="submit-newanamnesis" type="submit">Create</button>
  </form>
</div>
</app-content>
